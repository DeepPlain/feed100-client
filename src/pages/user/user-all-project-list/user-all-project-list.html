<!--
  Generated template for the UserAllProjectListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="tabs-header">
  <ion-navbar hideBackButton="true">
    <ion-buttons start>
      <button ion-button (click)="back()" icon-only>
        <ion-icon name="ios-arrow-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>모든 프로젝트</ion-title>
    <ion-buttons end>
      <button ion-button icon-only></button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="project-page-content">
  <!-- 당겨서 새로고침 -->
  <ion-refresher padding-top (ionRefresh)="doRefresh($event)" pullMin="150" pullMax="500">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  
  <!-- 추천 프로젝트 -->
  <div class="empty-content" *ngIf="allProjects.length == 0">
    <span class="grey-text">등록된 프로젝트가 없습니다.</span>
  </div>
  <section class="recommended-section m-b-30 m-t-20" *ngIf = "allProjects.length">
    <!-- <div class="home-group-title p-r-28 p-l-28">
      모든 프로젝트
      <p>보상받기를 터치하여 보상을 받아보세요.</p>
    </div> -->
    <div class="p-r-16 p-l-16">
      <div tappable class="vertical-project-card-wrapper" *ngFor="let allProject of allProjects">
        <div class="vertical-project-card" tappable (click)="accessProjectCard(allProject.project_id)">
          <span class="left-span">
            <div class="project-card-main-image-wrapper cropper">
              <img [src]="allProject.project_main_image" />  
            </div>
            <div class="project-card-overlay-wrapper" *ngIf="!allProject.is_proceeding">
              <span class="project-card-overlay">
                <span class="project-card-overlay-item p-card-end-tag">종료</span>
              </span>
            </div>
          </span>
          <span class="right-span height100">
            <div text-left class="card-content">
              <span class="project-card-summary-wrapper">
                <p class="project-card-summary">{{allProject.project_name}}</p>
              </span>
              <span class="summary-btn-wrapper">
                <span tappable class="summary-btn">상세보기 ></span>
              </span>
            </div>
          </span>
        </div>
      </div>
    </div>
  </section>
</ion-content>

<!-- allProject.is_proceeding : 진행중 -->